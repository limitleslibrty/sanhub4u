<!DOCTYPE html>
<html>
 <head>
  
 <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bollywood</title>
  <link rel="stylesheet" href="style.css">
 </head>
 <body>
  
  <br /><hr />
  <h1 align="center">Hollywood</h1>
  <hr />
  <br /><br />
  
  
  <!--movies container-->
  
  
 <div id="moviesContainer">
   
   
 
 <!--movies-->
 
 
     

<a href="movie.html?
title=Handsome Guys
&year=2024
&gd=https://drive.google.com/file/d/1td2MqSBaBX4PubUXDPlriDr-SoLDBXH6/view?usp=drivesdk
">
 <div class="movie-card" data-year="2024">
 <img src="your_image.jpg" alt="loading">
 <h3 class="movie-title">
     Handsome Guys
     </h3>
  </div>
</a>  
      
<a href="movie.html?
title=Oddity
&
gd=https://drive.google.com/file/d/1wA7lf70m85I6yXWqVgUym67r9GtiGw10/view?usp=drivesdk
">
 <div class="movie-card">
 <img src="your_image.jpg" alt="loading">
 <h3 class="movie-title">
     Oddity
     </h3>
  </div>
</a>
    
       
<a href="movie.html?
title=A Beautiful Mind 
&
gd=https://drive.google.com/file/d/1T45Dk2j2mH2-3kgIN8NP5YOC0t89h80G/view?usp=drivesdk
">
 <div class="movie-card">
 <img src="your_image.jpg" alt="loading">
 <h3 class="movie-title">
     A Beautiful Mind 
     </h3>
  </div>
</a>
  
     
<a href="lucy.htm">
 <div class="movie-card">
 <img src="https://catimages.org/images/2023/06/03/Lucy-2014.jpg " alt="Joker">
 <h3 class="movie-title">
 Lucy <br />hd
 </h3>
 </div>
</a>
 
    
 <a href="Morgan.htm">
 <div class="movie-card">
 <img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRDms3Nx8aqILjEah6J78sIuGAN00gBeyeAQQG_ObEUBS0Vz1zx_toMRfsF_N8rSyF8E2rdzdV2Wf-bPHDgpFIvHSKOusfHVaIuEV7_Hyk " alt="Joker">
 <h3 class="movie-title">
 Morgan <br />hd
 </h3>
 </div>
</a>
   
<a href="from.html">
 <div class="movie-card">
 <img src="https://image.tmdb.org/t/p/w500/ps46NdLlH70ptDD8ailTL8TCZU3.jpg " alt="Joker">
 <h3 class="movie-title">
 From <br />season 1
 </h3>
 </div>
</a>
 
  
  <a href="gameofthrones.htm">
 <div class="movie-card">
 <img src=" https://image.tmdb.org/t/p/w500/1XS1oqL89opfnbLl8WnZY1O1uJx.jpg" alt="Joker">
 <h3 class="movie-title">
 Game of thrones <br />hd
 </h3>
 </div>
</a>
  
  
 <a href="sexlife.htm">
 <div class="movie-card">
 <img src="https://m.media-amazon.com/images/M/MV5BZTllYjYzMDgtNDZiZi00MjBkLWFkYWYtZTBlZDc3N2E0MTczXkEyXkFqcGc@._V1_.jpg " alt="Joker">
 <h3 class="movie-title">
 Sex/Life
 <br />Season 1
 </h3>
 </div>
</a>
 <a href="thekiller.htm">
 <div class="movie-card">
  <img src="https://image.tmdb.org/t/p/w400/e7Jvsry47JJQruuezjU2X1Z6J77.jpg " alt="Joker">
  <h3 class="movie-title">
   The Killer
   <br />2023
  </h3>
 </div>
</a>
 
 
  <a href="ironman3.htm">
 <div class="movie-card">
 <img src=" https://m.media-amazon.com/images/M/MV5BMjIzMzAzMjQyM15BMl5BanBnXkFtZTcwNzM2NjcyOQ@@._V1_FMjpg_UX1000_.jpg" alt="Joker">
 <h3 class="movie-title">
 Iron Man 3 <br />
 Hindi
 
 </h3>
 </div>
</a>
 
     
     <a href="ironman2.htm">
     <div class="movie-card">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAf4RPk8_B-nS74CmpVcONYN2pvk1BCfr1lXYvnTp7mjWPKkoqvAeJHgI&s=10" alt="Joker">
        <h3 class="movie-title" >Iron Man 2 <br /> (2003)</h3>    </div>
</a>

    <a href="ironman1.htm">
    <div class="movie-card">
        <img src="https://upload.wikimedia.org/wikipedia/en/0/02/Iron_Man_%282008_film%29_poster.jpg" alt="Avengers">
        <h3 class="movie-title" >Iron man 1 <br />full hd</h3>

    </div>
    </a>

   <a href="incrediblehulk.htm"><div class="movie-card">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR7NYkGqrQwNeqiHil_obghSOohk9xfxSczo_dLx-iR6qSKQJDzrn7ot-Q&s=10" alt="Joker"><h3 class="movie-title" >The Incredible Hulk</h3></div>
        </a>

    
       <a href="
       ">
       <div class="movie-card">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTv1wfRM9F-0HSLyAb4XDZz4RErnrzqxyH6DiBztYljhArpjpih3wVE8V8&s=10" alt="Joker">
        <h3 class="movie-title" >Avengers Endgame </h3>
        </div>
        </a>

   
  
   
   
   
 </div>
   <script>
  const apiKey = "ed492c82af4b0bff90d8d23998f3d393";
  
  // Fetch movie poster
  async function getMoviePoster(title, year = "") {
    const cacheKey = `thumb_${title.toLowerCase().replace(/\s+/g, "_")}_${year}`;
    const cached = JSON.parse(localStorage.getItem(cacheKey) || "null");
    const now = Date.now();
    
    if (cached && now - cached.timestamp < 7 * 24 * 60 * 60 * 1000) {
      return cached.url;
    }
    
    try {
      const url = `https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(title)}${year ? `&year=${year}` : ""}&api_key=${apiKey}`;
      const res = await fetch(url);
      const data = await res.json();
      const poster = data.results?.[0]?.poster_path;
      if (poster) {
        const fullUrl = `https://image.tmdb.org/t/p/w500${poster}`;
        localStorage.setItem(cacheKey, JSON.stringify({ url: fullUrl, timestamp: now }));
        return fullUrl;
      }
    } catch (e) {
      console.warn("Movie poster fetch failed:", title);
    }
    
    return "";
  }
  
  // Fetch webseries poster
  async function getTVPoster(title, year = "") {
    const cacheKey = `tv_thumb_${title.toLowerCase()}_${year}`;
    const cached = localStorage.getItem(cacheKey);
    if (cached) return cached;
    
    try {
      const url = `https://api.themoviedb.org/3/search/tv?query=${encodeURIComponent(title)}${year ? `&first_air_date_year=${year}` : ""}&api_key=${apiKey}`;
      const res = await fetch(url);
      const data = await res.json();
      const poster = data.results?.[0]?.poster_path;
      if (poster) {
        const fullUrl = `https://image.tmdb.org/t/p/w500${poster}`;
        localStorage.setItem(cacheKey, fullUrl);
        return fullUrl;
      }
    } catch (e) {
      console.warn("TV poster fetch failed:", title);
    }
    
    return "";
  }
  
  // Apply thumbnails to all cards
  async function applyThumbnails() {
    const cards = document.querySelectorAll(".movie-card");
    
    for (const card of cards) {
      const anchor = card.closest("a");
      const img = card.querySelector("img");
      const h3 = card.querySelector(".movie-title");
      const year = card.dataset.year || "";
      
      if (!anchor || !img) continue;
      
      let title = "";
      let posterUrl = "";
      
      if (anchor.href.includes("webseries.html")) {
        const url = new URL(anchor.href, location.href);
        title = url.searchParams.get("title")?.trim();
        if (title) posterUrl = await getTVPoster(title, year);
      } else if (anchor.href.includes("movie.html")) {
        title = h3?.innerText?.trim();
        if (title) posterUrl = await getMoviePoster(title, year);
      }
      
      if (posterUrl) img.src = posterUrl;
    }
  }
  
  document.addEventListener("DOMContentLoaded", applyThumbnails);
</script>
 </body>
</html>